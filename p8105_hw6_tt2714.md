p8105\_hw6\_tt2714
================
Tiffany Tu
11/19/2018

## Problem 1

#### Data cleaningâ€¦

``` r
homicide = read_csv(file = "./homicide-data.csv") 
homicide_citystate = homicide %>% 
  unite(city_state, c(city, state), sep = ", ", remove = T) %>% 
  filter(!grepl('Dallas|Phoenix|Kansas City|Tulsa', city_state)) %>% 
  mutate(disposition = ifelse(disposition == "Closed by arrest", 1, 0),
         victim_race = ifelse(victim_race == "White", 1, 0), 
         victim_sex = ifelse(victim_sex == "Male", 1, 0)) %>% 
  mutate(victim_age = as.numeric(victim_age), 
         victim_sex = as.factor(victim_sex), 
         victim_race = as.factor(victim_race),
         victim_race = fct_relevel(victim_race, "1"))
```

#### Logistic Regression Model for Baltimore, MD

Outcome: disposition of homicide  
Predictors: age, sex, and race

Use `broom::tidy` to clean up the model and include odds ratio with
confidence intervals.

``` r
baltimore = homicide_citystate %>% filter(city_state == "Baltimore, MD")
baltimore_glm = glm(disposition ~ victim_race + victim_age + victim_sex, 
                    data = baltimore, family = binomial())

baltimore_glm %>% 
  broom::tidy(., conf.int = TRUE) %>% 
  mutate(odds.ratio = exp(estimate),
         conf.low = exp(conf.low),
         conf.high = exp(conf.high)) %>% kable()
```

| term          |    estimate | std.error |  statistic |   p.value |  conf.low | conf.high | odds.ratio |
| :------------ | ----------: | --------: | ---------: | --------: | --------: | --------: | ---------: |
| (Intercept)   |   1.1860305 | 0.2346173 |   5.055170 | 0.0000004 | 2.0759841 | 5.2121977 |  3.2740589 |
| victim\_race0 | \-0.8195997 | 0.1746156 | \-4.693738 | 0.0000027 | 0.3121625 | 0.6196693 |  0.4406080 |
| victim\_age   | \-0.0069900 | 0.0032627 | \-2.142423 | 0.0321594 | 0.9866654 | 0.9993728 |  0.9930344 |
| victim\_sex1  | \-0.8877869 | 0.1360573 | \-6.525097 | 0.0000000 | 0.3148182 | 0.5369411 |  0.4115656 |

## Problem 2
